(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{379:function(e,c,o){"use strict";o.r(c);var v=o(42),_=Object(v.a)({},(function(){var e=this,c=e.$createElement,o=e._self._c||c;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"docker"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[e._v("#")]),e._v(" docker")]),e._v(" "),o("p",[o("img",{attrs:{src:"/img/full-stack/docker/docker-logo.jpg",alt:""}})]),e._v(" "),o("h2",{attrs:{id:"安装docker"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[e._v("#")]),e._v(" 安装docker")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("yum install -y yum-utils")]),e._v(" 安装需要的依赖")]),e._v(" "),o("li",[o("code",[e._v("yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo")]),e._v("\n配置国内淘宝镜像源")]),e._v(" "),o("li",[o("code",[e._v("yum makecache fast")]),e._v(" 更新"),o("code",[e._v("yum")]),e._v("软件包索引")]),e._v(" "),o("li",[o("code",[e._v("yum install docker-ce docker-ce-cli containerd.io")]),e._v(" 安装"),o("code",[e._v("docket")]),e._v(" 社区版："),o("code",[e._v("docket-ce")]),e._v(" 企业版："),o("code",[e._v("docket-ee")])]),e._v(" "),o("li",[o("code",[e._v("systemctl start docker")]),e._v(" 启动"),o("code",[e._v("docker")])]),e._v(" "),o("li",[o("code",[e._v("docker version")]),e._v(" 查看是否安装成功")]),e._v(" "),o("li",[o("code",[e._v("docker images")]),e._v(" 查看下载的"),o("code",[e._v("hello-word")]),e._v("镜像")])]),e._v(" "),o("p",[o("code",[e._v("yum remove docker-ce docker-ce-cli containerd.io")]),e._v(" 卸载"),o("code",[e._v("docker")]),e._v("依赖\n"),o("code",[e._v("rm -rf /var/lib/docker")]),e._v(" 删除资源 "),o("strong",[e._v("(/var/lib/docker是docker的默认工作路径)")])]),e._v(" "),o("p",[e._v("PS:中途需要你接受一下密钥和安装包的提示，选择是即可")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://docs.docker.com/engine/install/centos/",target:"_blank",rel:"noopener noreferrer"}},[e._v("附带官方安装步骤"),o("OutboundLink")],1)]),e._v(" "),o("h2",{attrs:{id:"下载容器"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#下载容器"}},[e._v("#")]),e._v(" 下载容器")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("docker search centos")]),e._v(" 查找centos的镜像（这一步可以直接忽略，默认下载最新的）")]),e._v(" "),o("li",[o("code",[e._v("docker pull centos 或者 docker pull centos:指定版本号tag")]),e._v(" 下载镜像（这里推荐直接使用阿里云容器镜像加速）")])]),e._v(" "),o("p",[e._v("阿里云镜像加速步骤：")]),e._v(" "),o("ol",[o("li",[e._v("登录阿里云")]),e._v(" "),o("li",[e._v("进入控制台")]),e._v(" "),o("li",[e._v("在侧边栏中选择产品与服务点击里面的容器镜像服务")]),e._v(" "),o("li",[e._v("进到容器镜像服务中点击左侧边栏的镜像加速器")]),e._v(" "),o("li",[e._v("配置 "),o("code",[e._v("/etc/docker/daemon.json")]),e._v(" 把大括号里面的内容复制进去并保存")]),e._v(" "),o("li",[e._v("依次执行命令 "),o("code",[e._v("systemctl daemon-reload")]),e._v(" "),o("code",[e._v("systemctl restart docker")])])]),e._v(" "),o("h2",{attrs:{id:"运行centos"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#运行centos"}},[e._v("#")]),e._v(" 运行centos")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("docker run -it centos")]),e._v(" 以交互模式运行容器")]),e._v(" "),o("li",[o("code",[e._v("docker ps")]),e._v(" 查看运行中的容器")]),e._v(" "),o("li",[o("code",[e._v("exit")]),e._v(" 退出容器并停止运行")]),e._v(" "),o("li",[o("code",[e._v("Ctrl + P +Q")]),e._v(" 退出容器不停止运行")]),e._v(" "),o("li",[o("code",[e._v("docker exec -it 容器id bashShell")]),e._v(" 进入运行中的容器开启新的终端（常用）")]),e._v(" "),o("li",[o("code",[e._v("docker attach 容器id")]),e._v("进入运行中的容器不会启动新的进程")])]),e._v(" "),o("h2",{attrs:{id:"将容器内的文件拷贝到主机"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#将容器内的文件拷贝到主机"}},[e._v("#")]),e._v(" 将容器内的文件拷贝到主机")]),e._v(" "),o("p",[e._v("退出容器执行命令"),o("code",[e._v("docker cp 容器id:容器内路径 目标路径")]),e._v("(这里容器运不运行都可以拷贝)")]),e._v(" "),o("h2",{attrs:{id:"docker容器内无法联网问题"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#docker容器内无法联网问题"}},[e._v("#")]),e._v(" docker容器内无法联网问题")]),e._v(" "),o("p",[e._v("centos8解决方案：")]),e._v(" "),o("p",[o("code",[e._v("firewall-cmd --zone=public")])]),e._v(" "),o("p",[o("code",[e._v("--add-masquerade --permanent")])]),e._v(" "),o("p",[o("code",[e._v("firewall-cmd --reload")])]),e._v(" "),o("p",[o("code",[e._v("systemctl restart docker")])]),e._v(" "),o("Copy")],1)}),[],!1,null,null,null);c.default=_.exports}}]);