<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue-Router ğŸ–– | one nice blog</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/jscodev.ico">
    <meta name="description" content="knowledge sharing">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0">
    
    <link rel="preload" href="/assets/css/0.styles.60d486a0.css" as="style"><link rel="preload" href="/assets/js/app.f47b2c40.js" as="script"><link rel="preload" href="/assets/js/2.af72bc87.js" as="script"><link rel="preload" href="/assets/js/19.c39a071e.js" as="script"><link rel="prefetch" href="/assets/js/10.a9bf79bb.js"><link rel="prefetch" href="/assets/js/11.a427e81e.js"><link rel="prefetch" href="/assets/js/12.0b2b7aa0.js"><link rel="prefetch" href="/assets/js/13.b6b3a056.js"><link rel="prefetch" href="/assets/js/14.64749a17.js"><link rel="prefetch" href="/assets/js/15.da68acb7.js"><link rel="prefetch" href="/assets/js/16.8674dabe.js"><link rel="prefetch" href="/assets/js/17.a549c9d8.js"><link rel="prefetch" href="/assets/js/18.9389fd29.js"><link rel="prefetch" href="/assets/js/20.1dece8a0.js"><link rel="prefetch" href="/assets/js/21.13812f92.js"><link rel="prefetch" href="/assets/js/22.05fd8773.js"><link rel="prefetch" href="/assets/js/23.17941b85.js"><link rel="prefetch" href="/assets/js/24.7023415c.js"><link rel="prefetch" href="/assets/js/25.1f5804ca.js"><link rel="prefetch" href="/assets/js/26.6b4e0d48.js"><link rel="prefetch" href="/assets/js/27.1b788c1d.js"><link rel="prefetch" href="/assets/js/28.af72a96f.js"><link rel="prefetch" href="/assets/js/29.9c6f3345.js"><link rel="prefetch" href="/assets/js/3.fdb7c397.js"><link rel="prefetch" href="/assets/js/4.9c26f943.js"><link rel="prefetch" href="/assets/js/5.d3f16d5a.js"><link rel="prefetch" href="/assets/js/6.231eabe3.js"><link rel="prefetch" href="/assets/js/7.2e35d67b.js"><link rel="prefetch" href="/assets/js/8.25be8698.js"><link rel="prefetch" href="/assets/js/9.1875fa7a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.60d486a0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">one nice blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/home/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¤§å‰ç«¯" class="dropdown-title"><span class="title">å¤§å‰ç«¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="å¤§å‰ç«¯" class="mobile-dropdown-title"><span class="title">å¤§å‰ç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/full-stack-f/vite/" class="nav-link">
  Vite
</a></li><li class="dropdown-item"><!----> <a href="/full-stack-f/vue-router/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue-Router
</a></li><li class="dropdown-item"><!----> <a href="/full-stack-f/flutter/" class="nav-link">
  Flutter
</a></li><li class="dropdown-item"><h4>
          Javascript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/full-stack-f/javascript/es/" class="nav-link">
  ECMAScript
</a></li><li class="dropdown-subitem"><a href="/full-stack-f/javascript/js/" class="nav-link">
  JavaScript
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¨æ ˆä¹‹å·…" class="dropdown-title"><span class="title">å…¨æ ˆä¹‹å·…</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¨æ ˆä¹‹å·…" class="mobile-dropdown-title"><span class="title">å…¨æ ˆä¹‹å·…</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/full-stack-r/mysql/" class="nav-link">
  Mysql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è®¡ç®—æœº" class="dropdown-title"><span class="title">è®¡ç®—æœº</span> <span class="arrow down"></span></button> <button type="button" aria-label="è®¡ç®—æœº" class="mobile-dropdown-title"><span class="title">è®¡ç®—æœº</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer/http/" class="nav-link">
  http
</a></li></ul></div></div><div class="nav-item"><a href="https://juejin.im/user/844055260962855" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/home/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¤§å‰ç«¯" class="dropdown-title"><span class="title">å¤§å‰ç«¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="å¤§å‰ç«¯" class="mobile-dropdown-title"><span class="title">å¤§å‰ç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/full-stack-f/vite/" class="nav-link">
  Vite
</a></li><li class="dropdown-item"><!----> <a href="/full-stack-f/vue-router/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue-Router
</a></li><li class="dropdown-item"><!----> <a href="/full-stack-f/flutter/" class="nav-link">
  Flutter
</a></li><li class="dropdown-item"><h4>
          Javascript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/full-stack-f/javascript/es/" class="nav-link">
  ECMAScript
</a></li><li class="dropdown-subitem"><a href="/full-stack-f/javascript/js/" class="nav-link">
  JavaScript
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¨æ ˆä¹‹å·…" class="dropdown-title"><span class="title">å…¨æ ˆä¹‹å·…</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¨æ ˆä¹‹å·…" class="mobile-dropdown-title"><span class="title">å…¨æ ˆä¹‹å·…</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/full-stack-r/mysql/" class="nav-link">
  Mysql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è®¡ç®—æœº" class="dropdown-title"><span class="title">è®¡ç®—æœº</span> <span class="arrow down"></span></button> <button type="button" aria-label="è®¡ç®—æœº" class="mobile-dropdown-title"><span class="title">è®¡ç®—æœº</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer/http/" class="nav-link">
  http
</a></li></ul></div></div><div class="nav-item"><a href="https://juejin.im/user/844055260962855" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue-Router ğŸ––</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/full-stack-f/vue-router/#å‰è¨€" class="sidebar-link">å‰è¨€</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/full-stack-f/vue-router/#å‰ç«¯è·¯ç”±çš„ç”±æ¥" class="sidebar-link">å‰ç«¯è·¯ç”±çš„ç”±æ¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/full-stack-f/vue-router/#è·¯ç”±çš„åŸç†" class="sidebar-link">è·¯ç”±çš„åŸç†</a></li></ul></li><li><a href="/full-stack-f/vue-router/#ä»€ä¹ˆæ˜¯vue-router" class="sidebar-link">ä»€ä¹ˆæ˜¯Vue-Routerï¼Ÿ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/full-stack-f/vue-router/#è·¯ç”±å®‰è£…" class="sidebar-link">è·¯ç”±å®‰è£…</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/full-stack-f/vue-router/#è·¯ç”±æ¨¡å¼" class="sidebar-link">è·¯ç”±æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/full-stack-f/vue-router/#é…ç½®è·¯ç”±" class="sidebar-link">é…ç½®è·¯ç”±</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/full-stack-f/vue-router/#è·¯ç”±æ’æ§½" class="sidebar-link">è·¯ç”±æ’æ§½</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/full-stack-f/vue-router/#vueè·¯ç”±å’Œcomposition-api" class="sidebar-link">Vueè·¯ç”±å’ŒComposition API</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/full-stack-f/vue-router/#routerview" class="sidebar-link">RouterView</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/full-stack-f/vue-router/#scrollbehaviorå˜åŒ–" class="sidebar-link">scrollBehaviorå˜åŒ–</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/full-stack-f/vue-router/#è·¯ç”±é‡å®šå‘ä¸åˆ«å" class="sidebar-link">è·¯ç”±é‡å®šå‘ä¸åˆ«å</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/full-stack-f/vue-router/#åŠ¨æ€è·¯ç”±" class="sidebar-link">åŠ¨æ€è·¯ç”±</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/full-stack-f/vue-router/#ç»“è¯­" class="sidebar-link">ç»“è¯­</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-router-ğŸ––"><a href="#vue-router-ğŸ––" class="header-anchor">#</a> Vue-Router ğŸ––</h1> <p><img src="/img/article/vue-router/vue-router-logo.png" alt=""></p> <h2 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€</h2> <p>åœ¨ç¼–å†™vueé‡Œçš„SPAï¼ˆSingle Page Applicationå•é¡µé¢åº”ç”¨ï¼‰æ—¶ï¼Œæˆ‘ä»¬å§‹ç»ˆç»•ä¸å¼€è·¯ç”±çš„ä½¿ç”¨ï¼Œvue-router4.0ç‰ˆé‡Œæœ‰ä¸€äº›é‡è¦æ›´æ–°ï¼Œåœ¨è¿™é‡Œåˆ†äº«ç»™å¤§å®¶ã€‚</p> <h2 id="å‰ç«¯è·¯ç”±çš„ç”±æ¥"><a href="#å‰ç«¯è·¯ç”±çš„ç”±æ¥" class="header-anchor">#</a> å‰ç«¯è·¯ç”±çš„ç”±æ¥</h2> <p>åœ¨ä¼ ç»Ÿç½‘ç«™é‡Œï¼Œæ¯æ¬¡è·³è½¬é¡µé¢éƒ½ç­‰äºé‡æ–°å‘ä¸€æ¬¡è¯·æ±‚ç„¶åæµè§ˆå™¨æ¸²æŸ“è¿”å›çš„DOMè¿›è¡Œå±•ç¤ºï¼Œåœ¨å‰ç«¯çš„è¿­ä»£ä¸­å‡ºç°äº†æ¯”è¾ƒè‘—åçš„ä¸‰å¤§æ¡†æ¶<code>React</code> ã€<code>Vue</code> ã€ <code>Angular</code>ï¼Œä»–ä»¬éƒ½æ˜¯SPAæ¨¡å¼çš„æ¡†æ¶ï¼Œè€Œè·¯ç”±å°±æ˜¯è§£å†³å•é¡µé¢åº”ç”¨çš„è·³è½¬é—®é¢˜ã€‚</p> <h3 id="è·¯ç”±çš„åŸç†"><a href="#è·¯ç”±çš„åŸç†" class="header-anchor">#</a> è·¯ç”±çš„åŸç†</h3> <p>å‰ç«¯è·¯ç”±Â ä¼šæ ¹æ®æµè§ˆå™¨åœ°å€æ <code>pathname</code>çš„å˜åŒ–ï¼Œå»åŒ¹é…ç›¸åº”çš„é¡µé¢ç»„ä»¶ã€‚ç„¶åå°†å…¶é€šè¿‡åˆ›å»º<code>DOM</code>èŠ‚ç‚¹çš„å½¢å¼ï¼Œæ’å…¥æ ¹èŠ‚ç‚¹ã€‚è¿™å°±è¾¾åˆ°äº†æ— åˆ·æ–°é¡µé¢åˆ‡æ¢çš„æ•ˆæœã€‚</p> <p>ä¸‹é¢é€šè¿‡ä¸¤ä¸ªå°ä¾‹å­ç®€å•äº†è§£ä¸€ä¸‹è·¯ç”±å®ç°åŸç†ï¼š</p> <p><strong>hashæ¨¡å¼ï¼š</strong></p> <p>ä¸»è¦æ˜¯ç”¨è¿‡hashchangeè¿™ä¸€äº‹ä»¶å»ç›‘å¬åœ°å€æ”¹å˜ã€‚</p> <ul><li><p>hashchange å½“URLçš„ç‰‡æ®µæ ‡è¯†ç¬¦æ›´æ”¹æ—¶ï¼Œå°†è§¦å‘<code>hashchange</code>äº‹ä»¶ (è·Ÿåœ¨ï¼ƒç¬¦å·åé¢çš„URLéƒ¨åˆ†ï¼ŒåŒ…æ‹¬ï¼ƒç¬¦å·)</p></li> <li><p>DOMContentLoaded å½“çº¯HTMLè¢«å®Œå…¨åŠ è½½ä»¥åŠè§£ææ—¶<code>DOMContentLoaded</code>äº‹ä»¶ä¼šè¢«è§¦å‘ï¼Œè€Œä¸å¿…ç­‰å¾…æ ·å¼è¡¨ï¼Œå›¾ç‰‡æˆ–è€…å­æ¡†æ¶å®ŒæˆåŠ è½½ã€‚</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> load<span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'hashchange'</span><span class="token punctuation">,</span> locationHashChanged<span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆ›å»ºæ ¹å…ƒç´ ä¸ºå…¥å£</span>
  <span class="token keyword">let</span> root <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// é¦–æ¬¡åŒ¹é…ç»„ä»¶</span>
  <span class="token function">locationHashChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">locationHashChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">switch</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'#/a'</span><span class="token operator">:</span>
        root<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">'#/b'</span><span class="token operator">:</span>
        root<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


</code></pre></div><p><strong>historyæ¨¡å¼ï¼š</strong></p> <p>historyä¸»è¦ä¾èµ–HTML5çš„popstateè¿™ä¸€äº‹ä»¶å»ç›‘å¬åœ°å€æ”¹å˜ã€‚å¦‚æœè¢«æ¿€æ´»çš„å†å²è®°å½•æ¡ç›®æ˜¯é€šè¿‡å¯¹history.pushStateï¼ˆï¼‰çš„è°ƒç”¨åˆ›å»ºçš„ï¼Œæˆ–è€…å—åˆ°å¯¹
history.replaceStateï¼ˆï¼‰çš„è°ƒç”¨çš„å½±å“ï¼Œpopstateäº‹ä»¶çš„stateå±æ€§åŒ…å«å†å²æ¡ç›®çš„çŠ¶æ€å¯¹è±¡çš„å‰¯æœ¬ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è°ƒç”¨history.pushState()æˆ–history.pushStateä¸replaceState()ä¸ä¼šè§¦å‘popstateäº‹ä»¶ã€‚åªæœ‰åœ¨åšå‡ºæµè§ˆå™¨åŠ¨ä½œæ—¶ï¼Œæ‰ä¼šè§¦å‘è¯¥äº‹ä»¶ï¼Œå¦‚ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨çš„å›é€€æŒ‰é’®ï¼ˆæˆ–è€…åœ¨Javascriptä»£ç ä¸­è°ƒç”¨history.back()æˆ–è€…history.forward()æ–¹æ³•ï¼‰</p> <p>ä¸åŒçš„æµè§ˆå™¨åœ¨åŠ è½½é¡µé¢æ—¶å¤„ç†popstateäº‹ä»¶çš„å½¢å¼å­˜åœ¨å·®å¼‚ã€‚é¡µé¢åŠ è½½æ—¶Chromeå’ŒSafarié€šå¸¸ä¼šè§¦å‘(emit)popstateäº‹ä»¶ï¼Œä½†Firefoxåˆ™ä¸ä¼šã€‚</p> <ul><li><p>popstate å½“æ´»åŠ¨å†å²è®°å½•æ¡ç›®æ›´æ”¹æ—¶ï¼Œå°†è§¦å‘popstateäº‹ä»¶ã€‚</p></li> <li><p>history.replaceState æŠŠå½“å‰çš„é¡µé¢çš„å†å²è®°å½•æ›¿æ¢æ‰ï¼Œæ›´æ–°å†å²æ ˆä¸Šæœ€æ–°çš„å…¥å£ã€‚</p></li> <li><p>history.pushState å‘å½“å‰æµè§ˆå™¨ä¼šè¯çš„å†å²å †æ ˆä¸­æ·»åŠ ä¸€ä¸ªçŠ¶æ€</p></li></ul> <p><em>history.pushStateå’Œhistory.replaceStateçš„åŒºåˆ«å°±æ˜¯æ˜¯å¦ä¿ç•™å†å²çŠ¶æ€ã€‚</em></p> <p>history.pushStateå’Œhistory.replaceStateçš„å‚æ•°ï¼š</p> <ul><li><p>state çŠ¶æ€å¯¹è±¡æ˜¯ä¸€ä¸ªJavaScriptå¯¹è±¡ã€‚</p></li> <li><p>title å½“å‰å¤§å¤šæ•°æµè§ˆå™¨éƒ½å¿½ç•¥æ­¤å‚æ•°ï¼Œå°½ç®¡å°†æ¥å¯èƒ½ä¼šä½¿ç”¨å®ƒã€‚</p></li> <li><p>url æ–°å†å²è®°å½•æ¡ç›®çš„URLç”±æ­¤å‚æ•°æŒ‡å®šã€‚</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> load<span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'popstate'</span><span class="token punctuation">,</span> popstateChange<span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆ›å»ºæ ¹å…ƒç´ ä¸ºå…¥å£</span>
  <span class="token keyword">let</span> root <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// é¦–æ¬¡åŒ¹é…ç»„ä»¶</span>
  <span class="token function">popstateChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// è·å–æ‰€æœ‰aæ ‡ç­¾çš„é›†åˆ</span>
  <span class="token keyword">var</span> aList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'a[href]'</span><span class="token punctuation">)</span>
  <span class="token comment">// å¾ªç¯æ·»åŠ ç›‘å¬äº‹ä»¶</span>
  aList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">aNode</span> <span class="token operator">=&gt;</span> aNode<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// é˜»æ­¢é»˜è®¤äº‹ä»¶</span>
      e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// è·å–aæ ‡ç­¾çš„hrefå€¼</span>
      <span class="token keyword">var</span> href <span class="token operator">=</span> aNode<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">)</span>
      <span class="token comment">// æ‰‹åŠ¨ä¿®æ”¹æµè§ˆå™¨çš„åœ°å€æ </span>
      history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> href<span class="token punctuation">)</span>
      <span class="token comment">// ç”±äºpushState()ä¸èƒ½ç›‘å¬åœ°å€æ å˜åŒ–ä¸ä¼šé€ æˆpopstateäº‹ä»¶è°ƒç”¨, æ‰€ä»¥æ­¤å¤„éœ€è¦æ‰‹åŠ¨æ‰§è¡Œå›è°ƒå‡½æ•°</span>
      <span class="token function">popstateChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">popstateChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">switch</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'/a'</span><span class="token operator">:</span>
      root<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'a'</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'/b'</span><span class="token operator">:</span>
      root<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'b'</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><h2 id="ä»€ä¹ˆæ˜¯vue-router"><a href="#ä»€ä¹ˆæ˜¯vue-router" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯Vue-Routerï¼Ÿ</h2> <p>Vueè·¯ç”±å™¨æ˜¯Vue.jsçš„å®˜æ–¹è·¯ç”±å™¨ï¼Œå®ƒä¸Vue.jsæ ¸å¿ƒæ·±åº¦é›†æˆï¼Œä½¿ç”¨Vueè½»æ¾æ„å»ºå•é¡µåº”ç”¨ç¨‹åºå˜å¾—è½»è€Œæ˜“ä¸¾ã€‚åŠŸèƒ½åŒ…æ‹¬ï¼š</p> <ul><li><p>åµŒå¥—è·¯çº¿æ˜ å°„</p></li> <li><p>åŠ¨æ€è·¯ç”±</p></li> <li><p>æ¨¡å—åŒ–ï¼ŒåŸºäºç»„ä»¶çš„è·¯ç”±å™¨é…ç½®</p></li> <li><p>è·¯ç”±å‚æ•°ï¼ŒæŸ¥è¯¢ï¼Œé€šé…ç¬¦</p></li> <li><p>æŸ¥çœ‹ç”±Vue.jsè¿‡æ¸¡ç³»ç»Ÿæä¾›åŠ¨åŠ›çš„è¿‡æ¸¡æ•ˆæœ</p></li> <li><p>ç»†ç²’åº¦çš„å¯¼èˆªæ§åˆ¶</p></li> <li><p>å¸¦æœ‰è‡ªåŠ¨æ´»åŠ¨CSSç±»çš„é“¾æ¥</p></li> <li><p>HTML5å†å²è®°å½•æ¨¡å¼æˆ–å“ˆå¸Œæ¨¡å¼</p></li> <li><p>å¯è‡ªå®šä¹‰çš„æ»šåŠ¨è¡Œä¸º</p></li> <li><p>ç½‘å€çš„æ­£ç¡®ç¼–ç </p></li></ul> <h2 id="è·¯ç”±å®‰è£…"><a href="#è·¯ç”±å®‰è£…" class="header-anchor">#</a> è·¯ç”±å®‰è£…</h2> <p><code>npm i vue-router@next</code></p> <h2 id="è·¯ç”±æ¨¡å¼"><a href="#è·¯ç”±æ¨¡å¼" class="header-anchor">#</a> è·¯ç”±æ¨¡å¼</h2> <ul><li><p><code>createWebHistory</code> åˆ›å»ºhistoryè·¯ç”±æ¨¡å¼</p></li> <li><p><code>createWebHashHistory</code> åˆ›å»ºhashè·¯ç”±æ¨¡å¼</p></li> <li><p><code>createMemoryHistory</code> åˆ›å»ºåŸºäºå†…å­˜çš„å†å²è®°å½•</p></li> <li><p>HTML5Historyç±»</p></li> <li><p>HashHistoryç±»</p></li> <li><p>AbstractHistoryç±»</p></li></ul> <p><code>HTML5History</code>ç±»å’Œ<code>HashHistory</code>ç±»æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ–°æœ‹å‹<code>Abstract</code>æ¨¡å¼æ˜¯ç”¨åœ¨éæµè§ˆå™¨ç¯å¢ƒçš„ï¼Œè€Œéæµè§ˆå™¨ç¯å¢ƒæ˜¯æ²¡æœ‰å†å²è®°å½•æ ˆçš„ï¼Œæ‰€ä»¥Abstractå†…éƒ¨åˆ›é€ å˜é‡<code>stack</code>å’Œ<code>index</code>æ¥æ¨¡æ‹Ÿå†å²è®°å½•æ ˆã€‚</p> <p>è¿™ä¸‰ç§è·¯ç”±æ–¹å¼éƒ½æœ‰ä¸€ä¸ªå¯é€‰å‚æ•°baseï¼Œä¸ºæ¯ä¸ªURLå‰é¢çš„åŸºæœ¬è·¯å¾„ï¼Œé»˜è®¤ä¸º'/'</p> <h2 id="é…ç½®è·¯ç”±"><a href="#é…ç½®è·¯ç”±" class="header-anchor">#</a> é…ç½®è·¯ç”±</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// router/index</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHistory<span class="token punctuation">,</span>  RouteRecordRaw <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">const</span> <span class="token function-variable function">Login</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/login/login.vue'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/home/home.vue'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">About</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/about/about'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> routes<span class="token operator">:</span> Array<span class="token operator">&lt;</span>RouteRecordRaw<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span>  
    <span class="token punctuation">{</span>    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'login'</span><span class="token punctuation">,</span>    component<span class="token operator">:</span> Login  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token punctuation">{</span>    path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>    component<span class="token operator">:</span> Home<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span>    path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span>    component<span class="token operator">:</span> About  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
    history<span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
    routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router


<span class="token comment">// main</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router/index'</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>

</code></pre></div><p>æ–°ç‰ˆè·¯ç”±å™¨ä½¿ç”¨<code>createRouter</code>åˆ›å»ºï¼Œ<code>RouteRecordRaw</code>æ˜¯å†…ç½®çš„ç±»å‹æ¥å£ï¼Œ<code>routes</code>æ”¹ä¸ºå¿…ä¼ å‚æ•°</p> <h2 id="è·¯ç”±æ’æ§½"><a href="#è·¯ç”±æ’æ§½" class="header-anchor">#</a> è·¯ç”±æ’æ§½</h2> <ul><li><p><code>append</code></p></li> <li><p><code>event</code></p></li> <li><p><code>tag</code></p></li> <li><p><code>exact</code></p></li></ul> <p>ä¸Šé¢åˆ—ä¸¾çš„4ä¸ªå±æ€§å·²ç»ä¸å†ä½¿ç”¨ï¼Œæ”¹ä¸ºä½œç”¨åŸŸæ’æ§½:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ href, navigate, isActive }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ <span class="token punctuation">'</span>active<span class="token punctuation">'</span>: isActive }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>href<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navigate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>å¹¶ä¸”ä½ å¯ä»¥æ‰‹åŠ¨åœ¨å…¨å±€æ·»åŠ ä¸€ä¸ª<code>append</code>æ–¹æ³•ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span><span class="token function-variable function">append</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">path<span class="token operator">:</span>any<span class="token punctuation">,</span> pathToAppend<span class="token operator">:</span>any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
path <span class="token operator">+</span> <span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token operator">+</span> pathToAppend

</code></pre></div><p><code>&lt;router-view&gt;</code> <code>&lt;keep-alive&gt;</code> <code>&lt;transition&gt;</code>ç°åœ¨å¿…é¡»é€šè¿‡v-slot APIåœ¨<code>router-view</code>å†…éƒ¨ä½¿ç”¨<code>transition</code>å’Œ<code>keep-alive</code>ã€‚</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ Component }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Component<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>ç°æœ‰çš„<code>router.onReady</code>å‡½æ•°å·²æ›¿æ¢ä¸º<code>router.isReady</code>ï¼Œè¯¥å‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•°å¹¶è¿”å›<code>Promise</code></p> <p>å› ä¸ºç°åœ¨å¯¼èˆªåŒ…å«ç¬¬ä¸€ä¸ªéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨<code>transition</code>ï¼Œéœ€è¦åœ¨æŒ‚è½½<code>dom</code>ä¹‹å‰è°ƒç”¨<code>isReady</code>ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">isReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="vueè·¯ç”±å’Œcomposition-api"><a href="#vueè·¯ç”±å’Œcomposition-api" class="header-anchor">#</a> Vueè·¯ç”±å’ŒComposition API</h2> <p>å½“æˆ‘ä»¬ä½¿ç”¨<code>router-link</code>æ ‡ç­¾æ—¶æ˜¯ä¸€ç‚¹æ¯›ç—…ä¹Ÿæ²¡æœ‰ï¼Œä½†æ˜¯å½“éœ€è¦ç¼–ç¨‹å¼è·¯ç”±è·³è½¬çš„æ—¶å€™æ²™é›•äº†ï¼Œæ²¡æœ‰<code>this</code>å’‹è°ƒç”¨<code>router</code>å•Šï¼éš¾é“è¿˜è¦å†å†™ä¸€ä¸ª<code>methods</code>åœ¨é‡Œé¢æ“ä½œå—ï¼ˆé»‘äººé—®å·ï¼‰ï¼Œè¿˜å¥½è¿™é‡Œå’±ä»¬çš„<code>router</code>ç»™äº†è§£å†³åŠæ³•ï¼Œçœ‹ä¸‹å›¾ï¼š</p> <p><img src="/img/article/vue-router/vue-router-a.png" alt=""></p> <p>è¿™é‡Œåªéœ€è¦è°ƒç”¨å¯¹åº”çš„<code>userRouter</code>å‡½æ•°å°±å¯ä»¥äº†ï¼Œæ³¨æ„è¦åœ¨ä¸Šæ–¹<code>import</code>å¼•å…¥ï¼Œåœ¨<code>setup</code>é‡Œé¢ä¸ç”¨<code>return</code>è¿”å›ã€‚ï¼ˆè¿™é‡Œæ²¡æœ‰è´´ä»£ç ï¼Œè‡ªå·±æ‰‹åŠ¨æ•²ä¸€ä¸‹æ„Ÿå—ç¼–ç¨‹çš„å¿«ä¹ğŸ¤£ï¼‰</p> <h2 id="routerview"><a href="#routerview" class="header-anchor">#</a> RouterView</h2> <p>åœ¨ä¸€ç§æƒ…æ™¯ä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šéœ€è¦åœ¨é¡µé¢ä¸­åŒæ—¶æ˜¾ç¤ºå¤šä¸ªè·¯ç”±è§†å›¾ï¼Œè€Œä¸æ˜¯åµŒå¥—ï¼Œé‚£ä¹ˆå°±éœ€è¦ç”¨åˆ°<code>router-view</code>çš„<code>name</code>å±æ€§ï¼Œé»˜è®¤ä½¿ç”¨<code>default</code>ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// é¡µé¢</span>

<span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>router<span class="token operator">-</span>view name<span class="token operator">=</span><span class="token string">&quot;about&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>router<span class="token operator">-</span>view name<span class="token operator">=</span><span class="token string">&quot;login&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>

<span class="token comment">// router/index</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      components<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">default</span><span class="token operator">:</span> Home<span class="token punctuation">,</span>
        <span class="token comment">// è¿™é‡Œæ˜¯es6å¯¹è±¡å¢å¼ºå†™æ³•</span>
        login<span class="token punctuation">,</span>
        <span class="token comment">// åŒç†</span>
        about<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p><code>components</code>é‡Œé¢çš„ç»„ä»¶ä¼šä¸<code>router-view</code>é‡Œé¢çš„<code>name</code>ç›¸å¯¹åº”ã€‚</p> <h2 id="scrollbehaviorå˜åŒ–"><a href="#scrollbehaviorå˜åŒ–" class="header-anchor">#</a> scrollBehaviorå˜åŒ–</h2> <p><code>scrollBehavior</code>è¿”å›çš„å¯¹è±¡xé‡å‘½åä¸º<code>left</code>ï¼Œ<code>y</code>é‡å‘½åä¸º<code>top</code>ã€‚</p> <h2 id="è·¯ç”±é‡å®šå‘ä¸åˆ«å"><a href="#è·¯ç”±é‡å®šå‘ä¸åˆ«å" class="header-anchor">#</a> è·¯ç”±é‡å®šå‘ä¸åˆ«å</h2> <p>è·¯ç”±é‡å®šå‘(redirect)å°±æ˜¯é€šè¿‡å„ç§æ–¹æ³•å°†å„ç§ç½‘ç»œè¯·æ±‚é‡æ–°å®šä¸ªæ–¹å‘è½¬åˆ°å…¶å®ƒä½ç½®ï¼Œå¦‚<code>/home</code>è½¬åˆ°<code>/</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è·¯å¾„å†™æ³•</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token string">'/'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token comment">// å‘½åå†™æ³•</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'homepage'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token comment">// å‡½æ•°å†™æ³•</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/search/:searchText'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">redirect</span><span class="token operator">:</span> <span class="token parameter">to</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/search'</span><span class="token punctuation">,</span> query<span class="token operator">:</span> <span class="token punctuation">{</span> q<span class="token operator">:</span> to<span class="token punctuation">.</span>params<span class="token punctuation">.</span>searchText <span class="token punctuation">}</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>åˆ«åè¡¨ç¤ºè®¿é—®<code>url</code>æ—¶è‡ªç”±å‘½åï¼Œä¸å—çº¦æŸï¼Œ<code>router</code>ä¼šè‡ªåŠ¨è¿›è¡Œåˆ«ååŒ¹é…ï¼Œå°±åƒæˆ‘ä»¬è®¾ç½®<code>/</code>çš„åˆ«åä¸º<code>/home</code>ï¼Œç›¸å½“äºè®¿é—®<code>/</code>ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Homepage<span class="token punctuation">,</span> alias<span class="token operator">:</span> <span class="token string">'/home'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token comment">// aliasæ˜¯åˆ«åçš„key</span>
</code></pre></div><h2 id="åŠ¨æ€è·¯ç”±"><a href="#åŠ¨æ€è·¯ç”±" class="header-anchor">#</a> åŠ¨æ€è·¯ç”±</h2> <p>åœ¨ä¸€äº›ç‰¹å®šåœºæ™¯é‡Œé¢æˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨åˆ°åŠ¨æ€è·¯ç”±ï¼Œæ‰€ä»¥è¿™é‡Œç»™å‡ºäº†ä½¿ç”¨æ–¹å¼ï¼ŒåŠ¨æ€è·¯ç”±ä¸»è¦é€šè¿‡ä¸¤ä¸ªåŠŸèƒ½å®ç°<code>router.addRoute()</code>å’Œ<code>router.removeRoute()</code>ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// addRouteæ˜¯æ·»åŠ ä¸€æ¡æ–°çš„è·¯ç”±è·¯å¾„</span>

router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span> path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> About <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// removeRouteæ˜¯åˆ é™¤è·¯ç”±ï¼Œæ³¨æ„åˆ é™¤åå¯¹åº”çš„å­è·¯ç”±å’Œåˆ«åéƒ½ä¼šåˆ æ‰</span>

router<span class="token punctuation">.</span><span class="token function">removeRoute</span><span class="token punctuation">(</span><span class="token string">'about'</span><span class="token punctuation">)</span>

<span class="token comment">// è·¯ç”±åµŒå¥—</span>

router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token string">'about'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'profile'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Profile<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//ç­‰ä»·äº</span>

router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> About<span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'profile'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Profile<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="header-anchor">#</a> ç»“è¯­</h2> <p>ä¸ªäººæ„Ÿè§‰router-linkå’Œrouter-viewä¿®æ”¹æˆæ’æ§½æ¨¡å¼ä¹‹åå†™æ³•è™½ç„¶éº»çƒ¦äº†ä¸€äº›ä½†æ˜¯å´æ›´åŠ çµæ´»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é‡Œé¢å®ç°è‡ªå·±çš„å¾ˆå¤šé»‘é­”æ³•ï¼ˆå‘¸ï¼Œæ˜¯å¦™ç ç”ŸèŠ±ğŸ¤¥ï¼‰ï¼Œè¿™æ ·åŒä¸€ç§åŠŸèƒ½å°±ä¼šæœ‰å¾ˆå¤šç§å®ç°æ–¹å¼ï¼Œä¸è¿‡åœ¨é¡¹ç›®ä¸­è¿˜æ˜¯è¦æ³¨æ„ç»Ÿä¸€ä¸€ä¸‹ä»£ç è§„èŒƒæ€§ï¼Œå¸Œæœ›çœ‹å®Œè¿™ç¯‡æ–‡ç« å¯¹å¤§å®¶æœ‰å¸®åŠ©ã€‚</p> <Code></Code></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f47b2c40.js" defer></script><script src="/assets/js/2.af72bc87.js" defer></script><script src="/assets/js/19.c39a071e.js" defer></script>
  </body>
</html>
